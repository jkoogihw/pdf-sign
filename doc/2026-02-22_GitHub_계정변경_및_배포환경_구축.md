# GitHub ê³„ì • ë³€ê²½ ë° ë°°í¬ í™˜ê²½ êµ¬ì¶• (2026-02-22)

## ğŸ“‹ ê°œìš”
- **ëª©í‘œ**: GitHub ê³„ì • ë³€ê²½(nivalcar â†’ jkoogihw) ë° ë…ë¦½ì  ì €ì¥ì†Œ êµ¬ì„±, dev/main ì´ì¤‘ ë°°í¬ í™˜ê²½ êµ¬ì¶•
- **ê¸°ê°„**: 2026-02-20 ~ 2026-02-22
- **ê²°ê³¼**: âœ… ì„±ê³µ (main í”„ë¡œë•ì…˜ ë°°í¬ + dev ìŠ¤í…Œì´ì§• ë°°í¬)

---

## ğŸ”„ 1ë‹¨ê³„: GitHub ê³„ì • ë³€ê²½ ë° ì €ì¥ì†Œ ìƒì„±

### ìƒí™©
- ê¸°ì¡´: `nivalcar/pdf-sign` (í¬í¬ëœ ì €ì¥ì†Œ)
- ëª©í‘œ: `jkoogihw/pdf-sign` (ì™„ì „ ë…ë¦½ì  ì €ì¥ì†Œ, ì´ë ¥ ìœ ì§€)

### ì¡°ì¹˜ ì‚¬í•­

#### 1-1. ê¸°ì¡´ remote ì œê±° (nivalcar í¬í¬ ê´€ê³„ ì°¨ë‹¨)
```powershell
cd D:\dev\repository\git.jkhw\pdf-sign
git remote remove origin
```

#### 1-2. ìƒˆ ì €ì¥ì†Œ ì—°ê²°
```powershell
git remote add origin https://github.com/jkoogihw/pdf-sign.git
git push -u origin main
```

#### 1-3. ì¸ì¦ ë¬¸ì œ í•´ê²° (nivalcar í† í° ì œê±°)
**ë¬¸ì œ**: Credential Managerì— `nivalcar` í† í°ì´ ì €ì¥ë˜ì–´ `jkoogihw` ê³„ì •ìœ¼ë¡œ í‘¸ì‹œ ë¶ˆê°€
```
Error: remote: Permission to jkoogihw/pdf-sign.git denied to nivalcar
```

**í•´ê²°**:
```powershell
# Credential Managerì—ì„œ GitHub í•­ëª© í™•ì¸
cmdkey /list | Select-String "github.com"

# nivalcar í¬ë¦¬ë´ì…œ ì‚­ì œ
cmdkey /delete:git:https://github.com

# ì¬í‘¸ì‹œ (ë¸Œë¼ìš°ì € ì¸ì¦ íŒì—… ë°œìƒ)
git push -u origin main
```

### ê²°ê³¼
âœ… `jkoogihw/pdf-sign` ì €ì¥ì†Œ ìƒì„± ë° ë¡œì»¬ ì´ë ¥ ëª¨ë‘ í‘¸ì‹œ ì™„ë£Œ

---

## ğŸ“¦ 2ë‹¨ê³„: GitHub Actions ë°°í¬ í™˜ê²½ êµ¬ì¶•

### ìš”êµ¬ì‚¬í•­
- **main ë¸Œëœì¹˜**: í”„ë¡œë•ì…˜ ë°°í¬ (GitHub Pages)
- **dev ë¸Œëœì¹˜**: ìŠ¤í…Œì´ì§• ë°°í¬ (ë³„ë„ ì €ì¥ì†Œ `pdf-sign-dev`)
- **íŠ¹ì§•**: ìŠ¹ì¸ ì—†ì´ ìë™ ë°°í¬, ë‘˜ ë‹¤ ë™ì‹œ í™•ì¸ ê°€ëŠ¥

### ì‘ì—… êµ¬ì„±

#### 2-1. ë¦¬í¬ì§€í† ë¦¬ ê¶Œí•œ ì„¤ì •
```
Settings â†’ Actions â†’ General
â†’ Workflow permissions: "Read and write permissions" âœ“
```

#### 2-2. GitHub Pages ì„¤ì •
```
Settings â†’ Pages
â†’ Source: "GitHub Actions" ì„ íƒ
â†’ ì €ì¥
```

#### 2-3. Workflow íŒŒì¼ ìƒì„±

**`static.yml`** (main ë¸Œëœì¹˜ ë°°í¬)
```yaml
name: Deploy static content to Pages

on:
  push:
    branches: ["main"]

permissions:
  contents: read
  pages: write
  id-token: write

concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  deploy:
    runs-on: ubuntu-latest
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Upload artifact
        uses: actions/upload-pages-artifact@v4
        with:
          path: '.'

      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
```

**`dev-pages.yml`** (dev ë¸Œëœì¹˜ ë°°í¬ â†’ pdf-sign-dev ì €ì¥ì†Œ)
```yaml
name: Deploy dev branch to staging Pages

on:
  push:
    branches: ["dev"]

permissions:
  contents: read

jobs:
  deploy-dev-to-staging:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Prepare artifact
        run: |
          mkdir -p out
          rsync -av --exclude='.git' --exclude='.github' ./ out/ || (robocopy . out /E /XD .git .github)

      - name: Deploy to staging repository
        env:
          STAGING_REPO: jkoogihw/pdf-sign-dev
          STAGING_PAT: ${{ secrets.STAGING_PAT }}
        run: |
          if [ -z "$STAGING_PAT" ]; then
            echo "ERROR: STAGING_PAT secret is not set"; exit 1
          fi
          cd out
          git init
          git config user.name "github-actions[bot]"
          git config user.email "41898282+github-actions[bot]@users.noreply.github.com"
          git add -A
          git commit -m "Deploy dev build from $GITHUB_REPOSITORY@$GITHUB_SHA" || true
          git push --force "https://x-access-token:${STAGING_PAT}@github.com/${STAGING_REPO}.git" HEAD:gh-pages
```

---

## ğŸ› ë°œìƒí•œ ì˜¤ë¥˜ ë° í•´ê²° ê³¼ì •

### ì˜¤ë¥˜ 1: "Resource not accessible by integration"
**ì¦ìƒ**:
```
HttpError: Resource not accessible by integration
Create Pages site failed
Get Pages site failed
```

**ì›ì¸**: 
- GitHub Actions `configure-pages` ì•¡ì…˜ì´ Pages API í˜¸ì¶œ ê¶Œí•œ ë¶€ì¡±
- ë¦¬í¬ì§€í† ë¦¬ ì„¤ì •ì—ì„œ workflow permissionsê°€ Read-onlyë¡œ ì œí•œë¨

**í•´ê²°**:
1. Settings â†’ Actions â†’ General â†’ "Read and write permissions" ì„¤ì • âœ“
2. `configure-pages` ì•¡ì…˜ ì œê±° (ê¶Œí•œ ë¬¸ì œ ì›ì¸)

### ì˜¤ë¥˜ 2: "Deprecated version of actions/upload-artifact: v3"
**ì¦ìƒ**:
```
Error: This request has been automatically failed because it uses a deprecated version of `actions/upload-artifact: v3`
```

**ì›ì¸**: GitHubì—ì„œ v3 artifact ì•¡ì…˜ deprecated (2024-04-16)

**í•´ê²°**:
```yaml
# v2 â†’ v3 ì—…ê·¸ë ˆì´ë“œ
- uses: actions/upload-pages-artifact@v3
- uses: actions/deploy-pages@v3
```

### ì˜¤ë¥˜ 3: "Cannot find any run with github.run_id"
**ì¦ìƒ**:
```
HttpError: Cannot find any run with github.run_id 22277377350
Getting signed artifact URL failed
```

**ì›ì¸**: `upload-pages-artifact` (v3)ê³¼ `deploy-pages` (v3) ë²„ì „ í˜¸í™˜ì„± ë¬¸ì œ

**í•´ê²°**:
```yaml
# ë‘ ì•¡ì…˜ ë²„ì „ì„ ë™ì¼í•˜ê²Œ v4ë¡œ í†µì¼
- uses: actions/upload-pages-artifact@v4
- uses: actions/deploy-pages@v4
```

### ì˜¤ë¥˜ 4: "Not Found - Get Pages site failed"
**ì¦ìƒ**:
```
Error: Not Found - https://docs.github.com/rest/pages/pages#get-a-apiname-pages-site
Get Pages site failed. Please verify that the repository has Pages enabled
```

**ì›ì¸**: GitHub Pages ì„¤ì •ì´ "Deploy from a branch" ë°©ì‹ìœ¼ë¡œ ì €ì¥ë˜ì§€ ì•ŠìŒ

**í•´ê²°**:
```
Settings â†’ Pages
â†’ Source: "GitHub Actions" ì„ íƒ (Workflow ê¸°ë°˜ ë°°í¬)
â†’ ì €ì¥
```

---

## âœ… ìµœì¢… êµ¬ì„± (2026-02-22)

### ë°°í¬ í˜„í™©
| í™˜ê²½ | ë¸Œëœì¹˜ | ë°°í¬ ëŒ€ìƒ | URL | ìƒíƒœ |
|------|--------|---------|-----|------|
| **í”„ë¡œë•ì…˜** | main | GitHub Pages (jkoogihw/pdf-sign) | https://jkoogihw.github.io/pdf-sign/ | âœ… ë°°í¬ë¨ |
| **ìŠ¤í…Œì´ì§•** | dev | GitHub Pages (jkoogihw/pdf-sign-dev) | https://jkoogihw.github.io/pdf-sign-dev/ | âœ… ë°°í¬ë¨ |

### í•„ìˆ˜ ì‹œí¬ë¦¿ ì„¤ì •
**ë¦¬í¬ì§€í† ë¦¬**: `jkoogihw/pdf-sign`
**ì‹œí¬ë¦¿ ì´ë¦„**: `STAGING_PAT`
**ì„¤ì • ìœ„ì¹˜**: Settings â†’ Secrets and variables â†’ Actions â†’ New repository secret
**ê°’**: Personal Access Token (repo scope, pdf-sign-dev ì €ì¥ì†Œ ê¶Œí•œ)

### ì›Œí¬í”Œë¡œìš° íŠ¸ë¦¬ê±°
```
main ë¸Œëœì¹˜ í‘¸ì‹œ â†’ static.yml ì‹¤í–‰ â†’ í”„ë¡œë•ì…˜ ë°°í¬ (GitHub Pages)
dev ë¸Œëœì¹˜ í‘¸ì‹œ â†’ dev-pages.yml ì‹¤í–‰ â†’ pdf-sign-dev ì €ì¥ì†Œ gh-pagesë¡œ ê°•ì œ í‘¸ì‹œ â†’ ìŠ¤í…Œì´ì§• ë°°í¬
```

---

## ğŸ› ï¸ í…ŒìŠ¤íŠ¸ ë° ê²€ì¦

### dev ë°°í¬ í…ŒìŠ¤íŠ¸
```powershell
cd D:\dev\repository\git.jkhw\pdf-sign
git checkout dev
git commit --allow-empty -m "Trigger dev deploy workflow"
git push origin dev
```
**ê²°ê³¼**: âœ… Workflow ì„±ê³µ, https://jkoogihw.github.io/pdf-sign-dev/ ë°°í¬ í™•ì¸

### main ë°°í¬ í…ŒìŠ¤íŠ¸
```powershell
git checkout main
git commit --allow-empty -m "Trigger main deploy workflow"
git push origin main
```
**ê²°ê³¼**: âœ… Workflow ì„±ê³µ, https://jkoogihw.github.io/pdf-sign/ ë°°í¬ í™•ì¸

---

## ğŸ“ dev ë¸Œëœì¹˜ í˜„í–‰í™”

### mainê³¼ dev ë™ê¸°í™”
```powershell
cd D:\dev\repository\git.jkhw\pdf-sign
git checkout dev
git merge main
git push origin dev
```
**ëª©ì **: dev ë¸Œëœì¹˜ê°€ workflow ë° ëª¨ë“  configurationê³¼ ë™ì¼í•˜ê²Œ ìœ ì§€

---

## ğŸ¯ ì¶”í›„ ì°¸ê³ ì‚¬í•­

### ë™ì¼í•œ ì˜¤ë¥˜ ì¬ë°œ ì‹œ
1. **"Resource not accessible by integration"** â†’ Actions workflow permissions í™•ì¸
2. **"Deprecated artifact version"** â†’ Actions ë²„ì „ ìµœì‹ í™” (ê³µì‹ ë¬¸ì„œ í™•ì¸)
3. **"Cannot find any run"** â†’ upload-pages-artifactì™€ deploy-pages ë²„ì „ í†µì¼
4. **"Get Pages site failed"** â†’ Pages ì†ŒìŠ¤ë¥¼ "GitHub Actions" ë°©ì‹ìœ¼ë¡œ ì¬ì„¤ì •

### ì•ìœ¼ë¡œì˜ ë°°í¬ ê´€ë¦¬
- ëª¨ë“  ê°œë°œì€ **dev ë¸Œëœì¹˜ì—ì„œ** ìˆ˜í–‰
- ì„œë¹„ìŠ¤ ë°°í¬ëŠ” **dev â†’ main PR ë¨¸ì§€** í›„ ìˆ˜í–‰
- main ë°°í¬ í™•ì¸ í›„ í•„ìš”ì‹œ devë¥¼ mainê³¼ ë™ê¸°í™”

---

## ğŸ“š ê´€ë ¨ ë¬¸ì„œ
- [GitHub Actions ê³µì‹ ë¬¸ì„œ](https://docs.github.com/en/actions)
- [GitHub Pages ë°°í¬ ì•¡ì…˜](https://github.com/actions/deploy-pages)
- [Personal Access Token ìƒì„±](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens)

